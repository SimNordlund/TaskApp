import { asProperty, fromConstant$, reactExports, and } from './index-4mfddfkU.js';
import { listItemProperty } from './D4nQ98US-DIL-lu1k.js';
import { computeAction } from './ActionButton-B2qOJ4td.js';
import './DaFVLkxr-BwbOhnke.js';

const ListActionProperty = asProperty((config, store, widgetId, propertyPath) => listItemProperty((object) => {
  const predefinedArguments = fromConstant$({ [widgetId]: { object: { object } } });
  return computeAction(config, store, widgetId, predefinedArguments, true);
}, `List action "${widgetId}/${propertyPath}"`, config.dataSourceId));

var u$1;!function(e){e.STRING="string",e.NUMBER="number",e.ENUMERATION="enum",e.DATE="date",e.ASSOCIATION="association";}(u$1||(u$1={}));const d="com.mendix.widgets.web.filterable.filterContext";function h(){const t=window[d];if(t)return {FilterContext:t};const n=reactExports.createContext(void 0);return window[d]=n,{FilterContext:n}}const g=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);function p(e,t){if(function(e){return g(e,"arg1")&&g(e,"arg2")}(e)&&"attribute"===e.arg1.type&&e.arg1.attributeId===t.id&&(n=e.arg2,g(n,"type")&&g(n,"value")))return {type:e.name,value:e.arg2.value};var n;}function f(e,t){var n;if(!e||!t)return [];return (null!==(n=v$1(t))&&void 0!==n?n:[]).flatMap((t=>{const n=p(t,e);return n?[n]:[]}))}function v$1(e){return !e||"function"!==e.type||"and"!==e.name&&"or"!==e.name?e?[e]:void 0:e.args.flatMap(v$1).filter((e=>void 0!==e))}function m(e,t,n){return (t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return ("string"===t?String:Number)(e)}(e,"string");return "symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){return "".concat(e,",").concat(t)}function y(e){const[t,n]=e.split(",");return [parseInt(t,10),parseInt(n,10)]}class b{constructor(e,t){m(this,"_listeners",void 0),m(this,"_focusTarget",void 0),m(this,"_positionController",void 0),m(this,"_layout",void 0),m(this,"dispatch",(e=>{const t=this._positionController.dispatch(e,this._layout);void 0!==t&&t!==this._focusTarget&&("Keyboard"===e.type?this._setTargetAndFocus(t):this._setTarget(t));})),this._listeners=[],this._focusTarget=this._getInitPosition(),this._positionController=e,this._layout=t;}get focusTarget(){return this._focusTarget}addListener(e){this._listeners.push(e);}removeListener(e){this._listeners.splice(this._listeners.indexOf(e),1);}updateGridLayout(e){this._layout=e,void 0===this._layout.get(y(this._focusTarget))&&this._setTarget(this._getInitPosition());}_setTarget(e){const t=this._focusTarget;this._focusTarget=e,this._emit({lastPos:t,targetPos:e,shouldFocus:!1});}_setTargetAndFocus(e){const t=this._focusTarget;this._focusTarget=e,this._emit({lastPos:t,targetPos:e,shouldFocus:!0});}_emit(e){for(const t of this._listeners)t(e);}_getInitPosition(){return w(0,0)}}class S{constructor(e,t,n){m(this,"rows",void 0),m(this,"columns",void 0),m(this,"pageSize",void 0),m(this,"_positions",void 0),this.columns=t,this.rows=e,this.pageSize=n,this._positions=new Set;for(let n=0;n<e;n+=1)for(let e=0;e<t;e+=1)this._positions.add(w(e,n));}get(e){let[t,n]=e;const o=w(t<0?this.columns+t:t,n<0?this.rows+n:n);if(this._positions.has(o))return o}}const I=new Set(["ArrowUp","ArrowRight","ArrowDown","ArrowLeft","PageUp","PageDown","End","Home"]);const x={ArrowUp:function(e){let[t,n]=e;return [t,Math.max(0,n-1)]},ArrowRight:function(e){let[t,n]=e;return [t+1,n]},ArrowDown:function(e){let[t,n]=e;return [t,n+1]},ArrowLeft:function(e){let[t,n]=e;return [Math.max(0,t-1),n]},PageUp:(e,t)=>function(e,t){let[n,o]=e;return [n,Math.max(0,o-t)]}(e,t.pageSize),PageDown:(e,t)=>function(e,t,n){let[o,i]=e;return [o,Math.min(n-1,i+t)]}(e,t.pageSize,t.rows),End:(e,t,n)=>{let{ctrlKey:o}=n;return o?[-1,-1]:function(e){let[t,n]=e;return [-1,n]}(e)},Home:(e,t,n)=>{let{ctrlKey:o}=n;return o?[0,0]:function(e){let[t,n]=e;return [0,n]}(e)}};class C{dispatch(e,t){return "Focus"===e.type?this._handleFocusEvent(e.reactEvent):"Mouse"===e.type?this._handleMouseEvent(e.reactEvent):this._handleKeyboardEvent(e.reactEvent,t)}_handleKeyboardEvent(e,t){if(n=e.code,!I.has(n))return;var n;if(!Object.hasOwn(x,e.code))throw new Error("Keyboard nav: can't find handler for ".concat(e.code," key"));e.preventDefault();const o=y(this._getTargetPosition(e));return t.get(x[e.code](o,t,e))}_handleMouseEvent(e){return this._getTargetPosition(e)}_handleFocusEvent(e){return this._getTargetPosition(e)}_getTargetPosition(e){var t;const n=null===(t=e.currentTarget.dataset)||void 0===t?void 0:t.position;if(void 0===n)throw new Error("Keyboard navigation: target position is missing");return n}}const _=e=>{e&&e.canExecute&&!e.isExecuting&&e.execute();};class P{constructor(e){m(this,"selectionValue",void 0),m(this,"type","Single"),this.selectionValue=e;}updateProps(e){this.selectionValue=e;}isSelected(e){var t;return (null===(t=this.selectionValue.selection)||void 0===t?void 0:t.id)===e.id}add(e){this.selectionValue.setSelection(e);}remove(e){this.selectionValue.setSelection(void 0);}}class T{constructor(e,t){m(this,"selectionValue",void 0),m(this,"selectableItems",void 0),m(this,"type","Multi"),m(this,"rangeStart",void 0),m(this,"rangeEnd",void 0),this.selectionValue=e,this.selectableItems=t,this.rangeStart=void 0;}isSelected(e){return this.selectionValue.selection.some((t=>t.id===e.id))}updateProps(e,t){this.selectionValue=e,this.selectableItems=t;}get selectionStatus(){return 0===this.selectionValue.selection.length?"none":this.selectionValue.selection.length===this.selectableItems.length?"all":"some"}add(e){this._add(e),this._setRangeStart(e),this._setRangeEnd(void 0);}remove(e){this.isSelected(e)&&this.selectionValue.setSelection(this.selectionValue.selection.filter((t=>t.id!==e.id))),this._resetRange();}reduceTo(e){this.selectionValue.setSelection([e]),this._setRangeStart(e),this._setRangeEnd(void 0);}_add(e){this.isSelected(e)||this.selectionValue.setSelection(this.selectionValue.selection.concat(e));}_setRangeStart(e){let t=-1;void 0!==e&&(t=this.selectableItems.indexOf(e)),this.rangeStart=t>-1?t:void 0;}_setRangeEnd(e){if(void 0===e)return void(this.rangeEnd=void 0);const t=this.rangeEnd,n=this.selectableItems.indexOf(e);this.rangeEnd=n>-1?n:void 0,this._updateSelectionWithRange(this.rangeStart,t,n);}_updateSelectionWithRange(e,t,n){if(void 0===e)return;if(-1===n)return;if(t===n)return;if(void 0===t){const t=this._getRange(e,n);return void this.selectionValue.setSelection(t)}const o=this._getRange(e,t),i=this._getRange(e,n);let r=[];r=this._diff(r,o),r=this._union(r,i),this.selectionValue.setSelection(r);}_getRange(e,t){const n=this.selectableItems.length,[o,i]=[N(e,0,n),N(t,0,n)].sort(((e,t)=>e-t));return this.selectableItems.slice(o,i+1)}_resetRange(){this._setRangeStart(void 0),this._setRangeEnd(void 0);}_union(e,t){const n=[...e],o=new Set(e.map((e=>e.id)));for(const e of t)o.has(e.id)||(o.add(e.id),n.push(e));return n}_diff(e,t){const n=new Set(e),o=new Set(t.map((e=>e.id)));for(const e of n)o.has(e.id)&&n.delete(e);return Array.from(n)}selectAll(){this.selectionValue.setSelection(this.selectableItems),this._resetRange();}selectNone(){this.selectionValue.setSelection([]),this._resetRange();}selectUpTo(e){void 0===this.rangeStart?(this._add(e),this._setRangeStart(e)):this._setRangeEnd(e);}_findIndexInList(e,t,n){const o=this.selectableItems.length-1,i="forward"===t;if("edge"===n)return i?o:0;return N(i?e+n:e-n,0,o)}_findIndexInGrid(e,t,n){const{columnIndex:o}=E(n,this.selectableItems.length,e);return "pagedown"===t?this.selectableItems.length-(n-o):"home"===t?e-o:"end"===t?e+(n-(o+1)):o}selectUpToAdjacent(e,t,n,o,i){if(!1===t)return void this._resetRange();const r=this.selectableItems.findIndex((t=>t.id===e.id));let s=-1;s="backward"===n||"forward"===n?this._findIndexInList(r,n,o):this._findIndexInGrid(r,n,null!=i?i:0),s!==r&&(void 0===this.rangeStart&&this._setRangeStart(e),this._setRangeEnd(this.selectableItems.at(s)));}}const N=(e,t,n)=>Math.min(Math.max(e,t),n);function M(e,t,o){const r=reactExports.useRef([]),s=reactExports.useRef(!1);s.current||(s.current="loading"!==(null==t?void 0:t.status)),reactExports.useEffect((()=>{var t;const n=r.current,i=null!==(t=null==e?void 0:e.selection)&&void 0!==t?t:[],l=Array.isArray(i)?i:[i];(function(e,t){if(e.length!==t.length)return !1;const n=new Set(t.map((e=>e.id)));return e.every((e=>n.has(e.id)))})(n,l)||(r.current=l,s.current&&_(o));}),[null==e?void 0:e.selection,o]);const l=reactExports.useRef(void 0);var a,c;void 0!==e&&("Single"===e.type?l.current?l.current.updateProps(e):l.current=new P(e):l.current?l.current.updateProps(e,null!==(a=t.items)&&void 0!==a?a:[]):l.current=new T(e,null!==(c=t.items)&&void 0!==c?c:[]));return l.current}function E(e,t,n){if(n<0||n>=t)return {columnIndex:-1,rowIndex:-1};const o=n%e,i=function(e,t){return Math.floor(e/t)}(n,e);return {columnIndex:o,rowIndex:i}}const K=new Set(["KeyA","MetaLeft","MetaRight","ControlLeft","ControlRight"]),k=(e,t)=>{let n=!1;const[o,i]=function(e,t){let n=0,o=0;return [function(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];const l=(new Date).getTime()-o,a=()=>{n=0,o=(new Date).getTime(),e(...r);};n||(l>=t?a():n=window.setTimeout(a,t-l));},()=>{clearTimeout(n),n=0;}]}((()=>{n=!0,e();}),500);return [{eventName:"onKeyDown",filter:(e,t)=>"Multi"===e.selectionType&&function(e){return "KeyA"===e.code&&(e.metaKey||e.ctrlKey)}(t),handler:o},{eventName:"onKeyUp",filter:(e,t)=>"Multi"===e.selectionType&&K.has(t.code)&&n,handler:()=>{n=!1,i(),null==t||t();}}]},A=(e,t)=>[{eventName:"onKeyDown",filter:(e,t)=>"ArrowUp"===t.code&&"Multi"===e.selectionType,handler:(n,o)=>{let{item:i}=n;return e(i,o.shiftKey,"backward",t)}},{eventName:"onKeyDown",filter:(e,t)=>"ArrowDown"===t.code&&"Multi"===e.selectionType,handler:(n,o)=>{let{item:i}=n;return e(i,o.shiftKey,"forward",t)}},{eventName:"onKeyDown",filter:(e,t)=>"ArrowLeft"===t.code&&"Multi"===e.selectionType,handler:(t,n)=>{let{item:o}=t;return e(o,n.shiftKey,"backward",1)}},{eventName:"onKeyDown",filter:(e,t)=>"ArrowRight"===t.code&&"Multi"===e.selectionType,handler:(t,n)=>{let{item:o}=t;return e(o,n.shiftKey,"forward",1)}},{eventName:"onKeyDown",filter:(e,t)=>"PageUp"===t.code&&"Multi"===e.selectionType,handler:(n,o)=>{let{item:i}=n;return e(i,o.shiftKey,"pageup",0,t)}},{eventName:"onKeyDown",filter:(e,t)=>"PageDown"===t.code&&"Multi"===e.selectionType,handler:(n,o)=>{let{item:i}=n;return e(i,o.shiftKey,"pagedown",0,t)}},{eventName:"onKeyDown",filter:(e,t)=>"Home"===t.code&&"Multi"===e.selectionType,handler:(n,o)=>{let{item:i}=n;return e(i,o.shiftKey,"home",0,t)}},{eventName:"onKeyDown",filter:(e,t)=>"End"===t.code&&"Multi"===e.selectionType,handler:(n,o)=>{let{item:i}=n;return e(i,o.shiftKey,"end",0,t)}}],D="com.mendix.widgets.web.selectable.selectionContext";class V{constructor(e,t){var n=this;m(this,"selection",void 0),m(this,"selectionHelper",void 0),m(this,"onSelect",(function(){n.selectionHelper&&("Multi"===n.selectionHelper.type?n._onSelectItemMulti(...arguments):n._onSelectItemSingle(...arguments));})),m(this,"_onSelectItemMulti",((e,t,n)=>{var o;"Multi"===(null===(o=this.selectionHelper)||void 0===o?void 0:o.type)&&(t?this.selectionHelper.selectUpTo(e):this.selectionHelper.isSelected(e)?this.selectionHelper.remove(e):n?this.selectionHelper.add(e):this.selectionHelper.reduceTo(e));})),m(this,"_onSelectItemSingle",(e=>{var t;"Single"===(null===(t=this.selectionHelper)||void 0===t?void 0:t.type)&&(this.selectionHelper.isSelected(e)?this.selectionHelper.remove(e):this.selectionHelper.add(e));})),m(this,"onSelectAll",(e=>{this.selectionHelper&&("Single"!==this.selectionHelper.type?"selectAll"!==e&&"all"===this.selectionHelper.selectionStatus?this.selectionHelper.selectNone():this.selectionHelper.selectAll():console.warn("Datagrid: calling onSelectAll in single selection mode have no effect"));})),m(this,"onSelectAdjacent",(function(){var e;"Multi"===(null===(e=n.selectionHelper)||void 0===e?void 0:e.type)&&n.selectionHelper.selectUpToAdjacent(...arguments);})),m(this,"isSelected",(e=>!!this.selectionHelper&&this.selectionHelper.isSelected(e))),this.selection=e,this.selectionHelper=t;}get selectionType(){if(void 0===this.selection)return "None";if("object"==typeof this.selection)return this.selection.type;if("None"===this.selection||"Single"===this.selection||"Multi"===this.selection)return this.selection;throw new Error("Unknown selection type: ".concat(this.selection))}}function H(){const t=window["com.mendix.widgets.web.sortable.sortContext"];if(t)return {SortContext:t};const n=reactExports.createContext(void 0);return window["com.mendix.widgets.web.sortable.sortContext"]=n,{SortContext:n}}function F(e){let{direction:t}=e;const n="pagination-icon ".concat(t);switch(t){case"forward":return reactExports.createElement("span",{"aria-hidden":!0},reactExports.createElement("svg",{className:n,viewBox:"0 0 32 32",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},reactExports.createElement("path",{d:"M17.81 6.63C17.48 6.37 17 6.61 17 7.02V24.98C17 25.4 17.48 25.63 17.81 25.37L28.5 16.39C28.76 16.19 28.76 15.8 28.5 15.6L17.81 6.63Z",fill:"currentColor"}),reactExports.createElement("path",{d:"M4.81 6.63C4.48 6.37 4 6.61 4 7.02V24.98C4 25.4 4.48 25.63 4.81 25.37L15.5 16.39C15.76 16.19 15.76 15.8 15.5 15.6L4.81 6.63Z",fill:"currentColor"})));case"step-forward":return reactExports.createElement("span",{"aria-hidden":!0},reactExports.createElement("svg",{className:n,viewBox:"0 0 32 32",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},reactExports.createElement("path",{d:"M8.81 6.63C8.48 6.37 8 6.61 8 7.02V24.98C8 25.4 8.48 25.63 8.81 25.37L20.5 16.39C20.76 16.19 20.76 15.8 20.5 15.6L8.81 6.63Z",fill:"currentColor"}),reactExports.createElement("path",{d:"M24 6H22V26H24V6Z",fill:"currentColor"})));case"backward":return reactExports.createElement("span",{"aria-hidden":!0},reactExports.createElement("svg",{className:n,viewBox:"0 0 32 32",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},reactExports.createElement("path",{d:"M14.19 6.63L3.51 15.61C3.25 15.81 3.25 16.2 3.51 16.4L14.2 25.38C14.53 25.64 15.01 25.4 15.01 24.99V7.02C15.01 6.6 14.53 6.37 14.2 6.63H14.19Z",fill:"currentColor"}),reactExports.createElement("path",{d:"M27.19 6.63L16.5 15.61C16.24 15.81 16.24 16.2 16.5 16.4L27.19 25.38C27.52 25.64 28 25.4 28 24.99V7.02C28 6.6 27.52 6.37 27.19 6.63Z",fill:"currentColor"})));case"step-backward":return reactExports.createElement("span",{"aria-hidden":!0},reactExports.createElement("svg",{className:n,viewBox:"0 0 32 32",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},reactExports.createElement("path",{d:"M23.19 6.63L11.51 15.61C11.25 15.81 11.25 16.2 11.51 16.4L23.2 25.38C23.53 25.64 24.01 25.4 24.01 24.99V7.02C24.01 6.6 23.53 6.37 23.2 6.63H23.19Z",fill:"currentColor"}),reactExports.createElement("path",{d:"M10 6H8V26H10V6Z",fill:"currentColor"})));default:return reactExports.createElement("div",null)}}function L(e){var t,n,o,i,r,l,a;const c=void 0!==e.numberOfItems?Math.ceil(e.numberOfItems/e.pageSize):void 0,u=void 0!==c?c-1:0,d=void 0!==c,h=e.page*e.pageSize+1,g=e.canNextPage||!e.numberOfItems?(e.page+1)*e.pageSize:e.numberOfItems,p=t=>{e.setPaginationIndex&&e.setPaginationIndex(t);};if(0===e.numberOfItems)return null;const f="".concat(h," to ").concat(g," ").concat(d?"of ".concat(null!==(t=e.numberOfItems)&&void 0!==t?t:(null!=c?c:1)*e.pageSize):"");return reactExports.createElement("div",{"aria-label":null!==(n=e.labelPagination)&&void 0!==n?n:"Pagination",className:"pagination-bar"},reactExports.createElement("button",{className:"btn pagination-button",disabled:0===e.page,...O((()=>{e.gotoPage(0),p(0);})),"aria-label":null!==(o=e.labelFirstPage)&&void 0!==o?o:"Go to first page"},reactExports.createElement(F,{direction:"step-backward"})),reactExports.createElement("button",{className:"btn pagination-button",disabled:!e.canPreviousPage,...O((()=>{e.previousPage(),p(e.page-1);})),"aria-label":null!==(i=e.labelPreviousPage)&&void 0!==i?i:"Go to previous page"},reactExports.createElement(F,{direction:"backward"})),reactExports.createElement("span",{className:"sr-only sr-only-focusable"},null!==(r=e.labelPagingStatus)&&void 0!==r?r:"Currently showing"," ",f),reactExports.createElement("div",{"aria-hidden":!0,className:"paging-status"},f),reactExports.createElement("button",{"aria-label":null!==(l=e.labelNextPage)&&void 0!==l?l:"Go to next page",className:"btn pagination-button",disabled:!e.canNextPage,...O((()=>{e.nextPage(),p(e.page+1);}))},reactExports.createElement(F,{direction:"forward"})),d&&reactExports.createElement("button",{"aria-label":null!==(a=e.labelLastPage)&&void 0!==a?a:"Go to last page",className:"btn pagination-button",disabled:e.page===u,...O((()=>{e.gotoPage(u),p(u);}))},reactExports.createElement(F,{direction:"step-forward"})))}function O(e){return {onClick:e,onKeyDown:t=>{" "!==t.key&&"Enter"!==t.key||(t.preventDefault(),t.stopPropagation(),e());}}}const R=Symbol("DefaultKeyNavContextValue"),U=reactExports.createContext(R);function z(e){let{focusController:t,children:n}=e;const i=reactExports.useMemo((()=>({focusController:t})),[t]);return reactExports.createElement(U.Provider,{value:i},n)}var j,G={exports:{}};
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/j=G,function(){var e={}.hasOwnProperty;function t(){for(var n=[],o=0;o<arguments.length;o++){var i=arguments[o];if(i){var r=typeof i;if("string"===r||"number"===r)n.push(i);else if(Array.isArray(i)){if(i.length){var s=t.apply(null,i);s&&n.push(s);}}else if("object"===r){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){n.push(i.toString());continue}for(var l in i)e.call(i,l)&&i[l]&&n.push(l);}}}return n.join(" ")}j.exports?(t.default=t,j.exports=t):window.classNames=t;}();var B=G.exports;function Z(e){let{children:t,className:n,selectionType:o,lg:i,md:r,sm:l,...a}=e;const c="None"!==o;return reactExports.createElement("div",{...a,className:B("widget-gallery-items","widget-gallery-lg-".concat(i),"widget-gallery-md-".concat(r),"widget-gallery-sm-".concat(l),n),role:c?"listbox":"list","aria-multiselectable":c?"Multi"===o:void 0},t)}function W(e){const r=reactExports.useRef(null),s=reactExports.useRef(e.focusTarget),{focusController:a}=function(){const e=reactExports.useContext(U);if(e===R)throw new Error("useKeyNavContext: context provider is missing");return e}(),[c,u]=reactExports.useMemo((()=>{const t=w(e.columnIndex,e.rowIndex);return [t===a.focusTarget,t]}),[e.columnIndex,e.rowIndex,a.focusTarget]),[d,h]=reactExports.useState({canFocus:!1});return reactExports.useEffect((()=>{const e=e=>h((t=>e.lastPos===u?{canFocus:!1}:e.targetPos===u?{canFocus:e.shouldFocus}:t));return a.addListener(e),()=>a.removeListener(e)}),[a,u]),reactExports.useEffect((()=>{const{current:e}=s;if(d.canFocus){const t="function"==typeof e?e():r.current;null==t||t.focus();}}),[d]),{ref:r,tabIndex:c?0:-1,"data-position":u}}function q(e){const{eventsController:t,getPosition:n,helper:i,item:r,itemIndex:l,selectHelper:a,...c}=e,u=i.hasOnClick(r)||"None"!==a.selectionType,d=function(e,t){return "Single"===t.selectionType||"Multi"===t.selectionType?{role:"option","aria-selected":t.isSelected(e),tabIndex:0}:{role:"listitem","aria-selected":void 0,tabIndex:void 0}}(r,a),{columnIndex:h,rowIndex:g}=n(l),p=W({columnIndex:null!=h?h:-1,rowIndex:g}),f=reactExports.useMemo((()=>t.getProps(r)),[t,r]);return reactExports.createElement("div",{...c,className:B("widget-gallery-item",{"widget-gallery-clickable":u,"widget-gallery-selected":d["aria-selected"]},i.itemClass(r)),...d,onClick:f.onClick,onFocus:f.onFocus,onKeyDown:f.onKeyDown,onKeyUp:f.onKeyUp,onMouseDown:f.onMouseDown,"data-position":p["data-position"],ref:p.ref,tabIndex:p.tabIndex},i.render(r))}function Y(e){var o,r;const[s,l]=reactExports.useState(!1),a=null!==(r=(o=reactExports.useRef()).current)&&void 0!==r?r:o.current=function(e){let{setIsIntersecting:t}=e;return new IntersectionObserver((e=>{let[n]=e;t(n.isIntersecting);}))}({setIsIntersecting:l});return reactExports.useEffect((()=>(e.current&&a.observe(e.current),()=>{a.disconnect();})),[a,e]),s}const J=30;function Q(e){let{children:o,className:i,hasMoreItems:l,isInfinite:c,setPage:u}=e;const[d,h,g]=function(e){const{setPage:o,hasMoreItems:i,isInfinite:s}=e,[l,c]=reactExports.useState(0),u=reactExports.useRef(null),d=Y(u),h=reactExports.useCallback((e=>{Math.floor(e.target.scrollHeight-J-e.target.scrollTop)<=Math.floor(e.target.clientHeight)+2&&i&&o&&o((e=>e+1));}),[i,o]),g=reactExports.useCallback((()=>{d&&s&&i&&l<=0&&u.current&&c(u.current.clientHeight-J);}),[s,i,l,d]);return reactExports.useLayoutEffect((()=>{setTimeout((()=>g()),100);}),[g]),[h,l,u]}({hasMoreItems:l,isInfinite:c,setPage:u});return reactExports.createElement("div",{className:B("widget-gallery-content",{"infinite-loading":c},i),ref:g,onScroll:c?d:void 0,style:c&&h>0?{maxHeight:h}:void 0},o)}function X(e){let{children:t,className:n,...o}=e;return reactExports.createElement("div",{className:B("widget-gallery-footer",n),...o},t)}function $(e){const{children:t}=e;return t?reactExports.createElement("section",{...e,className:"widget-gallery-header widget-gallery-filter"}):null}function ee(e){const{className:t,selectable:n,children:o,...i}=e;return reactExports.createElement("div",{className:B("widget-gallery",{"widget-gallery-selectable":n},t),...i},o)}function te(e){return reactExports.createElement("div",{className:"widget-gallery-top-bar"},e.children)}function ne(e){const t=e.paging?reactExports.createElement("div",{className:"widget-gallery-pagination"},reactExports.createElement(L,{canNextPage:e.hasMoreItems,canPreviousPage:0!==e.page,gotoPage:t=>e.setPage&&e.setPage((()=>t)),nextPage:()=>e.setPage&&e.setPage((e=>e+1)),numberOfItems:e.numberOfItems,page:e.page,pageSize:e.pageSize,previousPage:()=>e.setPage&&e.setPage((e=>e-1))})):null,n=e.paging&&"above"===e.paginationPosition,o=e.paging&&"below"===e.paginationPosition;return reactExports.createElement(ee,{className:e.className,selectable:!1,"data-focusindex":e.tabIndex||0},n&&reactExports.createElement(te,null,t),e.showHeader&&reactExports.createElement($,{"aria-label":e.headerTitle},e.header),reactExports.createElement(Q,{hasMoreItems:e.hasMoreItems,setPage:e.setPage,isInfinite:!e.paging},e.items.length>0&&reactExports.createElement(Z,{lg:e.desktopItems,md:e.tabletItems,sm:e.phoneItems,selectionType:e.selectHelper.selectionType,"aria-label":e.ariaLabelListBox},reactExports.createElement(z,{focusController:e.focusController},e.items.map(((t,n)=>reactExports.createElement(q,{key:"item_".concat(t.id),helper:e.itemHelper,item:t,selectHelper:e.selectHelper,eventsController:e.itemEventsController,getPosition:e.getPosition,itemIndex:n})))))),(0===e.items.length||e.showEmptyStatePreview)&&e.emptyPlaceholderRenderer&&e.emptyPlaceholderRenderer((t=>reactExports.createElement("section",{className:"widget-gallery-empty","aria-label":e.emptyMessageTitle},reactExports.createElement("div",{className:"empty-placeholder"},t)))),o&&reactExports.createElement(X,null,t))}function oe(e,t,n){const o=e();(!n.filter||n.filter(o,t))&&n.handler(o,t);}const ie=e=>({eventName:"onClick",handler:(t,n)=>e({type:"Mouse",reactEvent:n})}),re=e=>({eventName:"onKeyDown",handler:(t,n)=>e({type:"Keyboard",reactEvent:n})}),se=e=>({eventName:"onFocus",handler:(t,n)=>e({type:"Focus",reactEvent:n})});function le(e){return [ie(e),re(e),se(e)]}function ae(){var e;null===(e=window.getSelection())||void 0===e||e.removeAllRanges();}const ce=()=>{ce.timeoutId&&clearTimeout(ce.timeoutId),ce.timeoutId=window.setTimeout((()=>{ae(),document.body.style.userSelect="",ce.timeoutId=void 0;}),250);},ue=e=>({eventName:"onClick",filter:e=>"None"!==e.selectionType,handler:(t,n)=>{let{item:o}=t;const i=n.metaKey||n.ctrlKey;e(o,n.shiftKey,i);}}),de=e=>({eventName:"onKeyUp",filter:(e,t)=>"None"!==e.selectionType&&function(e){return "Space"===e.code&&e.shiftKey}(t),handler:t=>{let{item:n}=t;return e(n,!1,!0)}});function he(e,t,n,o){return [(i=ae,{eventName:"onMouseDown",filter:e=>"None"!==e.selectionType,handler:i}),ue(e),de(e),k((()=>{document.body.style.userSelect="none",t("selectAll");}),(()=>{ce();})),A(n,o)].flat();var i;}const ge=e=>({eventName:"onClick",filter:()=>!0,handler:t=>{let{item:n}=t;return e(n)}}),pe=(e,t)=>"Space"===t.code?!t.shiftKey:"Enter"===t.code,fe=e=>{let t=!1;return [{eventName:"onKeyDown",filter:pe,handler:()=>t=!0},{eventName:"onKeyUp",filter:(e,n)=>pe(0,n)&&t,handler:n=>{let{item:o}=n;t=!1,e(o);}}]};class ve{constructor(e,t,n,o,i,r,s){this.contextFactory=e,this.selectFx=t,this.selectAllFx=n,this.executeActionFx=o,this.focusTargetFx=i,this.selectAdjacentFx=r,this.numberOfColumns=s,this.getProps=e=>{var t,n;return function(e,t){const n=function(e){return e.reduce(((e,t)=>{var n,o,i,r,s,l;switch(t.eventName){case"onClick":e.onClick=null!==(n=e.onClick)&&void 0!==n?n:[],e.onClick.push(t);break;case"onDoubleClick":e.onDoubleClick=null!==(o=e.onDoubleClick)&&void 0!==o?o:[],e.onDoubleClick.push(t);break;case"onKeyDown":e.onKeyDown=null!==(i=e.onKeyDown)&&void 0!==i?i:[],e.onKeyDown.push(t);break;case"onKeyUp":e.onKeyUp=null!==(r=e.onKeyUp)&&void 0!==r?r:[],e.onKeyUp.push(t);break;case"onMouseDown":e.onMouseDown=null!==(s=e.onMouseDown)&&void 0!==s?s:[],e.onMouseDown.push(t);break;case"onFocus":e.onFocus=null!==(l=e.onFocus)&&void 0!==l?l:[],e.onFocus.push(t);}return e}),{})}(t);return {onClick(t){var o;null===(o=n.onClick)||void 0===o||o.forEach((n=>oe(e,t,n)));},onDoubleClick(t){var o;null===(o=n.onDoubleClick)||void 0===o||o.forEach((n=>oe(e,t,n)));},onKeyUp(t){var o;null===(o=n.onKeyUp)||void 0===o||o.forEach((n=>oe(e,t,n)));},onKeyDown(t){var o;null===(o=n.onKeyDown)||void 0===o||o.forEach((n=>oe(e,t,n)));},onMouseDown(t){var o;null===(o=n.onMouseDown)||void 0===o||o.forEach((n=>oe(e,t,n)));},onFocus(t){var o;null===(o=n.onFocus)||void 0===o||o.forEach((n=>oe(e,t,n)));}}}((()=>this.contextFactory(e)),[...he(this.selectFx,this.selectAllFx,this.selectAdjacentFx,this.numberOfColumns),...le(this.focusTargetFx),...(t=this.executeActionFx,[ge(t),(n=e=>{e.preventDefault(),e.stopPropagation();},{eventName:"onKeyDown",filter:(e,t)=>function(e){return "Space"===e.code&&e.target===e.currentTarget}(t),handler:(e,t)=>n(t)}),...fe(t)])])};}}function me(e){const n=function(e){return e<768?"phone":e>=768&&e<992?"tablet":"desktop"}(function(){const[e,n]=reactExports.useState(window.innerWidth);return reactExports.useEffect((()=>{const e=e=>n(e.target.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),e}()),o=function(e,t){return e["".concat(t,"Items")]}(e,n),r=Math.ceil(e.totalItems/o);return {numberOfColumns:Math.min(o,e.totalItems),numberOfRows:r}}class we{constructor(e){this.listAction=e,this.onExecuteAction=e=>{this.listAction&&"get"in this.listAction&&_(this.listAction.get(e));};}update(e){this.listAction=e;}}function ye(e){return reactExports.createElement("div",{...e,...be,className:B("widget-gallery-item-button",e.className),role:"button",tabIndex:0})}const be=function(){let e=!1;return {onKeyDown:t=>{Se(t)&&(xe(t),Ie(t)&&(e=!0));},onKeyUp:t=>{Se(t)&&Ie(t)&&e&&(xe(t),t.currentTarget.dispatchEvent(new MouseEvent("click",{bubbles:!0})),e=!1);}}}();function Se(e){return "Enter"===e.code||"Space"===e.code}function Ie(e){return e.currentTarget===e.target}function xe(e){e.stopPropagation(),e.preventDefault();}class Ce{constructor(e,t,n){this._classValue=e,this._contentValue=t,this._clickValue=n;}itemClass(e){var t;return null===(t=this._classValue)||void 0===t?void 0:t.get(e).value}render(e){var t,n;return this.hasOnClick(e)?reactExports.createElement(ye,{onClick:()=>{var t;return _(null===(t=this._clickValue)||void 0===t?void 0:t.get(e))}},null===(t=this._contentValue)||void 0===t?void 0:t.get(e)):null===(n=this._contentValue)||void 0===n?void 0:n.get(e)}hasOnClick(e){var t;return !!(null===(t=this._clickValue)||void 0===t?void 0:t.get(e))}}class _e extends V{constructor(){var e;super(...arguments),e=this,this.onSelectAdjacentGrid=function(){var t;"Multi"===(null===(t=e.selectionHelper)||void 0===t?void 0:t.type)&&e.selectionHelper.selectUpToAdjacent(...arguments);};}}function Pe(l){var a,d,g,p,v;const m=reactExports.useRef(void 0),w=reactExports.useRef(void 0),[y,I]=reactExports.useState(!1),[x,_]=reactExports.useState(!1),P={[u$1.STRING]:reactExports.useState(),[u$1.NUMBER]:reactExports.useState(),[u$1.DATE]:reactExports.useState(),[u$1.ENUMERATION]:reactExports.useState(),[u$1.ASSOCIATION]:reactExports.useState()},[T,N]=reactExports.useState(),{FilterContext:K}=h(),{SortContext:k}=H(),A=(void 0===window[D]&&(window[D]=reactExports.createContext(void 0)),window[D]),V="virtualScrolling"===l.pagination,F=V?l.datasource.limit/l.pageSize:l.datasource.offset/l.pageSize;reactExports.useEffect((()=>{l.datasource.requestTotalCount(!V),l.datasource.limit===Number.POSITIVE_INFINITY&&l.datasource.setLimit(l.pageSize);}),[l.datasource,l.pageSize,V]),reactExports.useEffect((()=>{!l.datasource.filter||y||m.current||(m.current=l.datasource.filter),!l.datasource.sortOrder||x||w.current||(w.current=l.datasource.sortOrder);}),[l.datasource,y,x]);const L=reactExports.useMemo((()=>l.filterList.reduce(((e,t)=>{let{filter:n}=t;return {...e,[n.id]:n}}),{})),[l.filterList]),O=reactExports.useMemo((()=>l.sortList.map((e=>{let{attribute:t,caption:n}=e;var o;return {attribute:t,caption:null!==(o=n.value)&&void 0!==o?o:""}}))),[l.sortList]),R=reactExports.useMemo((()=>l.filterList.reduce(((e,t)=>{let{filter:n}=t;return {...e,[n.id]:f(n,m.current)}}),{})),[l.filterList,m.current]),U=Object.keys(P).map((e=>{var t;return null===(t=P[e][0])||void 0===t?void 0:t.getFilterCondition()})).filter((e=>void 0!==e));if(U.length>0?l.datasource.setFilter(U.length>1?and(...U):U[0]):y?l.datasource.setFilter(void 0):l.datasource.setFilter(m.current),T&&"getSortCondition"in T){const e=T.getSortCondition();l.datasource.setSortOrder(e?[e]:void 0);}else l.datasource.setSortOrder(void 0);const z=reactExports.useCallback((e=>{const t=e(F);V?l.datasource.setLimit(t*l.pageSize):l.datasource.setOffset(t*l.pageSize);}),[l.datasource,l.pageSize,V,F]),j=M(l.itemSelection,l.datasource,l.onSelectionChange),G=function(e,t){return reactExports.useMemo((()=>new _e(e,t)),[t])}(l.itemSelection,j),B=null!==(a=l.datasource.items)&&void 0!==a?a:[],Z={desktopItems:l.desktopItems,phoneItems:l.phoneItems,tabletItems:l.tabletItems,totalItems:B.length},{numberOfColumns:W,numberOfRows:q}=me(Z),Y=reactExports.useCallback((e=>E(W,B.length,e)),[W,B.length]),J=function(e){let{rows:t,columns:i,pageSize:r}=e;const s=reactExports.useRef(null);return reactExports.useMemo((()=>{const e=new S(t,i,r);return null===s.current?s.current=new b(new C,e):s.current.updateGridLayout(e),s.current}),[t,i,r])}({rows:q,columns:W,pageSize:l.pageSize}),Q=function(e){const t=reactExports.useMemo((()=>new we(e.onClick)),[]);return reactExports.useEffect((()=>{t.update(e.onClick);})),t}({onClick:l.onClick}),X=function(e,t,n,i){return reactExports.useMemo((()=>new ve((t=>({item:t,selectionType:e.selectionType})),e.onSelect,e.onSelectAll,t.onExecuteAction,n.dispatch,e.onSelectAdjacentGrid,i)),[e,n,i])}(G,Q,J,W),$=function(e){const t=reactExports.useCallback((()=>{"Multi"===(null==e?void 0:e.type)&&("all"===e.selectionStatus?e.selectNone():e.selectAll());}),[e]),n="Multi"===(null==e?void 0:e.type)?e.selectionStatus:void 0;return reactExports.useMemo((()=>{if(void 0!==n)return {status:n,toggle:t}}),[n,t])}(j),ee=l.filterList.length>0||l.sortList.length>0||"Multi"===(null==j?void 0:j.type),te=(oe={classValue:l.itemClass,contentValue:l.content,clickValue:l.onClick},reactExports.useMemo((()=>new Ce(oe.classValue,oe.contentValue,oe.clickValue)),[oe.classValue,oe.contentValue,oe.clickValue]));var oe;return reactExports.createElement(ne,{className:l.class,desktopItems:l.desktopItems,emptyPlaceholderRenderer:reactExports.useCallback((e=>"custom"===l.showEmptyPlaceholder?e(l.emptyPlaceholder):reactExports.createElement("div",null)),[l.emptyPlaceholder,l.showEmptyPlaceholder]),emptyMessageTitle:null===(d=l.emptyMessageTitle)||void 0===d?void 0:d.value,header:reactExports.useMemo((()=>ee?reactExports.createElement(K.Provider,{value:{filterDispatcher:e=>{if(e.filterType){const[,t]=P[e.filterType];t(e),I(!0);}return e},multipleAttributes:L,multipleInitialFilters:R}},reactExports.createElement(k.Provider,{value:{sortDispatcher:e=>(_(!0),N(e),e),attributes:O,initialSort:w.current}},reactExports.createElement(A.Provider,{value:$},l.filtersPlaceholder))):null),[K,k,P,L,R,ee,l.filtersPlaceholder,O]),headerTitle:null===(g=l.filterSectionTitle)||void 0===g?void 0:g.value,ariaLabelListBox:null===(p=l.ariaLabelListBox)||void 0===p?void 0:p.value,showHeader:ee,hasMoreItems:null!==(v=l.datasource.hasMoreItems)&&void 0!==v&&v,items:B,itemHelper:te,numberOfItems:l.datasource.totalCount,page:F,pageSize:l.pageSize,paging:"buttons"===l.pagination,paginationPosition:l.pagingPosition,phoneItems:l.phoneItems,setPage:z,tabletItems:l.tabletItems,tabIndex:l.tabIndex,selectHelper:G,itemEventsController:X,focusController:J,getPosition:Y})}

var GalleryWidgetModule = /*#__PURE__*/Object.freeze({
	__proto__: null,
	Gallery: Pe
});

var l,n={exports:{}};
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/l=n,function(){var e={}.hasOwnProperty;function r(){for(var a=[],l=0;l<arguments.length;l++){var n=arguments[l];if(n){var t=typeof n;if("string"===t||"number"===t)a.push(n);else if(Array.isArray(n)){if(n.length){var u=r.apply(null,n);u&&a.push(u);}}else if("object"===t){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){a.push(n.toString());continue}for(var i in n)e.call(n,i)&&n[i]&&a.push(i);}}}return a.join(" ")}l.exports?(r.default=r,l.exports=r):window.classNames=r;}();var t=n.exports;const u=a=>{let{className:l,bootstrapStyle:n,children:u}=a;return reactExports.Children.count(u)>0?reactExports.createElement("div",{className:t("alert alert-".concat(n),l)},u):null};function i(e,r,a){if(e<r)return 0;if(e>a)return 100;const l=a-r,n=Math.round((e-r)/l*100);return Math.abs(n)}function s(e){let{class:a,style:l,minValue:n,maxValue:s,onClick:o,currentValue:c,label:v}=e;const m=function(e,r,a){return a<r?"Error in progress bar values: The maximum value is lower than the minimum value.":e<r?"Error in progress bar values: The progress value is lower than the minimum value.":e>a?"Error in progress bar values: The progress value is higher than the maximum value.":null}(c,n,s),d=i(c,n,s);return reactExports.createElement("div",{className:t("widget-progress-bar","progress-bar-medium","progress-bar-primary",a),style:l},reactExports.createElement("div",{className:t("progress",{"widget-progress-bar-alert":s<1,"widget-progress-bar-clickable":!!o}),onClick:o},reactExports.createElement("div",{className:t("progress-bar"),title:"string"==typeof v?v:void 0,style:{width:"".concat(d,"%")}},v)),m?reactExports.createElement(u,{bootstrapStyle:"danger",className:"widget-progress-bar"},m):null)}u.displayName="Alert";const o=0,c=100,v=e=>{var l;const{currentValue:n,minValue:t,maxValue:u}=function(){var r,a,l,n,t,u,i,s,v,m,d,p;switch(e.type){case"dynamic":return {currentValue:Number(null!==(a=null===(r=e.dynamicCurrentValue)||void 0===r?void 0:r.value)&&void 0!==a?a:0),minValue:Number(null!==(n=null===(l=e.dynamicMinValue)||void 0===l?void 0:l.value)&&void 0!==n?n:o),maxValue:Number(null!==(u=null===(t=e.dynamicMaxValue)||void 0===t?void 0:t.value)&&void 0!==u?u:c)};case"expression":return {currentValue:Number(null!==(s=null===(i=e.expressionCurrentValue)||void 0===i?void 0:i.value)&&void 0!==s?s:0),minValue:Number(null!==(m=null===(v=e.expressionMinValue)||void 0===v?void 0:v.value)&&void 0!==m?m:o),maxValue:Number(null!==(p=null===(d=e.expressionMaxValue)||void 0===d?void 0:d.value)&&void 0!==p?p:c)};case"static":return {currentValue:e.staticCurrentValue,minValue:e.staticMinValue,maxValue:e.staticMaxValue}}}(),v=reactExports.useCallback((()=>{var r;return null===(r=e.onClick)||void 0===r?void 0:r.execute()}),[e.onClick]);return reactExports.createElement(s,{class:e.class,style:e.style,currentValue:n,minValue:t,maxValue:u,onClick:e.onClick?v:void 0,label:e.showLabel?"custom"===e.labelType?e.customLabel:"percentage"===e.labelType?"".concat(i(n,t,u),"%"):null===(l=e.labelText)||void 0===l?void 0:l.value:null})};

var ProgressBarWidgetModule = /*#__PURE__*/Object.freeze({
	__proto__: null,
	ProgressBar: v
});

export { GalleryWidgetModule, ListActionProperty, ProgressBarWidgetModule };
